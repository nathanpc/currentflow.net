<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Levissimo</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Sanitize -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css" integrity="sha256-gk3z+XTkT2rjrvAxcKDA15OH4w1FssyEwnSC3WnKbWU=" crossorigin="anonymous" />

		<!-- Prism (Syntax Highlighting) -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.min.js" integrity="sha256-jc6y1s/Y+F+78EgCT/lI2lyU7ys+PFYrRSJ6q8/R8+o=" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism.min.css" integrity="sha256-N1K43s+8twRa+tzzoF3V8EgssdDiZ6kd9r8Rfgg8kZU=" crossorigin="anonymous" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/autolinker/prism-autolinker.min.js" integrity="sha256-SBdcXd1yqPQNixmtcMwSZJrzPTudHK/LXJxgLGCh3Go=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha256-uCRLqQjYcKEykao3hISbnt7+Pf9EfLCJUD2oD0JLq40=" crossorigin="anonymous"></script>
		<script>Prism.plugins.autoloader.languages_path = 'https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/';</script>

		<!-- Custom CSS -->
		<link rel="stylesheet" href="css/main.css">
	</head>

	<body>
		<!--[if IE]>
		<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
		<![endif]-->

		<!-- Header -->
		<header>
			<div class="title-block">
				<h1>Levissimo Blog</h1>
				<h3>A blog about everything related to the project</h2>
			</div>

			<!-- Navigation Bar -->
			<nav>
				<ul>
					<li><a href="#">Home</a></li>
					<li><a href="#">About</a></li>
					<li><a href="#">Contact</a></li>
				</ul>
			</nav>
		</header>

		<!-- Articles -->
		<div class="article-container">
			<article>
				<h2><a href="#">Article Title</a></h2>
				<nav>Nathan Campos - 07 Mar 2019</nav>

				<div class="article-body">
					<p class="image-container"><a href="http://i.imgur.com/RJ9JStc.jpg"><img src="http://i.imgur.com/RJ9JStc.jpg" alt="Lid Open" /></a></p>
					<p>I&rsquo;m back with another amplifier project, but this time it&rsquo;s kinda like a remake instead of a completely new amp. The story behind this project started 4 days after I completed the Mini6.</p>
					<p>While I was drilling the holes for the jacks on the Mini6, I accidentally put too much pressure on the acrylic enclosure and it cracked, it was very small crack, practically impossible to see, between the two RCA jacks on the front, but after using it for a while and noticing how the crack would open a little bit every time I plugged something in, I decided to fix it using super glue (<em>facepalm</em>) and while I was using the glue I didn&rsquo;t notice that one small drop fell in the PCB. I put everything back together and tested, it sounded horrible and when I looked inside I could see the stain of the glue which was destroying the sensitive part of the circuit. So in a moment of rage I decided to throw the whole amp in the trash and design a better one and put it in a better enclosure. So that&rsquo;s how the Power12 was born.</p>
					<p class="image-container"><a href="http://i.imgur.com/mh6FWhw.png"><img src="http://i.imgur.com/7ZWAG2m.png" alt="Schematic" /></a></p>
					<p>The first thing I did to the original design was add a <a href="http://en.wikipedia.org/wiki/Boucherot_cell">Zobel network</a> to increase the stability of the amplifier. The other modification I did was the addition of a <a href="http://en.wikipedia.org/wiki/Active_load">active load</a> in the gain stage. Sadly when I was designing it I forgot to add another active load for the differential pair, but this will be fixed in the next revision of the board (I&rsquo;ll also add a <a href="http://sound.westhost.com/project57.htm">SIM</a>).</p>

<pre><code class="language-c">/**
 *  plotcsv.c
 *  A simple program to plot data from CSV files.
 *
 *  @author Nathan Campos <nathanpc@dreamintech.net>
 */

#include "plotcsv.h"

/**
 * No need to explain this.
 *
 * @param argc Number of arguments.
 * @param argv Arguments array.
 * @return Return code.
 */
int main(int argc, char **argv) {
	bool running = true;
	char *script_file = NULL;
	char *csv_file = NULL;
	char *ctok = NULL;
	gnuplot_ctrl *gp = gnuplot_init();
	char prompt[64] = "> ";

	if (argc == 2) {
		if (argv[1][strlen(argv[1]) - 3] == '.' &&
				argv[1][strlen(argv[1]) - 2] == 'p' &&
				argv[1][strlen(argv[1]) - 1] == 'c') {
			// Script file.
			script_file = argv[1];
			running = parse_script(script_file, ctok, &csv_file, gp, prompt);
		} else {
			// CSV file.
			csv_file = argv[1];
			generate_prompt(prompt, csv_file);
		}
	}

	while (running) {
		char *buffer = NULL;

		buffer = readline(prompt);
		if (buffer && *buffer) {
			add_history(buffer);
			ctok = strtok(buffer, " ");
		} else {
			continue;
		}

		running = parse_cmd_line(ctok, &csv_file, gp, prompt, false);
	}

	gnuplot_close(gp);
	return EXIT_SUCCESS;
}</code></pre>
					
					<p>Populating the board was a pretty straight forward process since there aren&rsquo;t a lot of components to be placed and as usual the most difficult port was soldering the spade terminals to the ground plane.</p>
					<p class="image-container"><a href="http://i.imgur.com/A5TefkQ.jpg"><img src="http://i.imgur.com/A5TefkQ.jpg" alt="Enclosure" /></a></p>
					<p>This time I decided to use a very nice <a href="http://www.aliexpress.com/snapshot/6211709629.html">extruded aluminium enclosure</a> that I found on AliExpress. I was a bit skeptical at first about the quality of the enclosures, but when they arrived I was surprised how beautiful they were, and the quality of the extrusion was really good. The seller was great, emailed me to ask about the customs, shipped extremely fast, and packed everything extremely well to make sure nothing would scratch the very fragile black paint of the case and the panels.</p>
					<p>Since I decided to use a aluminium enclosure, the best combination would be a very minimalist design, so the only thing in the front panel is the power switch. This decision gave me the idea to place the power LED on the back, giving it a really cool look when it&rsquo;s powered on.</p>
					<p class="image-container"><a href="http://i.imgur.com/CaNWnfU.jpg"><img src="http://i.imgur.com/CaNWnfU.jpg" alt="Back panel" /></a></p>
					<p>Drilling the holes for the 2.1mm power connectors was a pain in the ass since I didn&rsquo;t have a drill bit that was bigger than 8mm, so I was forced to use the &ldquo;wiggle&rdquo; technique to make the holes bigger and because of that the drill bit escaped the hole a couple of times and damaged a bit of the back plate, but since it&rsquo;s on the back no one will ever see my mistakes.</p>
					<p class="image-container"><a href="http://i.imgur.com/hDm09wz.png"><img src="http://i.imgur.com/hDm09wz.png" alt="THD Plot" /></a></p>
					<p>The distortion figures are not the best you&rsquo;ve probably seen (it&rsquo;ll be a lot better when I add the second active load in Rev B), but it&rsquo;s low enough that you won&rsquo;t be able to notice it. The plot was created using a script I&rsquo;ve created called <a href="https://gist.github.com/nathanpc/464b65f48d494179be13">plot_thd.py</a>, running <a href="https://github.com/nathanpc/Power12/blob/master/spice/Rev%2520A.cir">this SPICE circuit</a>. Sadly I don&rsquo;t have the equipment to measure the real figures, but I&rsquo;m planing to buy a <a href="http://www.keithley.com/products/dcac/audioanalyzer/%3Fmn%3D2015">Keithley 2015</a> next month.</p>
					<p class="image-container"><a href="http://i.imgur.com/yWRiXer.png"><img src="http://i.imgur.com/yWRiXer.png" alt="Temperature Profile" /></a></p>
					<p>One thing that I actually was able to measure was the temperature profile of the amplifier, and as you can see it runs pretty cool with those <a href="http://www.digikey.com/product-detail/en/FA-T220-38E/FA-T220-38E-ND/2416492">FA-T220-38E heatsinks</a>. Those figures were measured with the lid closed and with the amplifier right at the point of clipping with a 1kHz sine wave into a 8 ohm load. I&rsquo;ve used my <a href="http://www.keysight.com/en/pd-1765023-pn-U1242B/handheld-digital-multimeter-4-digit%3Fcc%3DUS%26lc%3Deng">Agilent U1242B</a> multimeter in conjunction with a program I wrote called <a href="https://github.com/nathanpc/dmmlog">dmmlog</a> to grab the data, then <a href="https://github.com/nathanpc/plotcsv">plotcsv</a> to generate the graph you see. Sadly I forgot to take pictures of the test setup.</p>
					<p>If you want to see all the pictures of the project <a href="http://imgur.com/gallery/UqJ2X/">this Imgur album</a> contains all of them. If you want to have access to all of the files related to this project check out the <a href="https://github.com/nathanpc/Power12">GitHub repo</a>, and if you want to discuss it the best place to go would be the <a href="http://www.diyaudio.com/forums/solid-state/263255-power12-compact-6w-channel-power-amplifier.html">diyAudio thread</a>.</p>
				</div>
			</article>
			
			<hr>
		</div>

		<!-- Page footer -->
		<footer>
			<p>This blog is powered by <a href="#">Levissimo</a>.</p>
		</footer>
	</body>
</html>

